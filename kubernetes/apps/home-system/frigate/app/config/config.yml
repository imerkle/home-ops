mqtt:
  host: mqtt.home-system.svc.cluster.local
  user: frigate
  password: '{FRIGATE_MQTT_PASSWORD}'

tls:
  enabled: false

database:
  path: /config/frigate.db

detectors:
  cpu:
    type: cpu

birdseye:
  enabled: true
  restream: true
  mode: continuous
  width: 1920
  height: 1080
  layout:
    max_cameras: 1

go2rtc:
  streams:
    garage_main:
      - rtsp://adminadmin:RootPassword1!@10.0.0.60:554/stream1
    garage_sub:
      - rtsp://adminadmin:RootPassword1!@10.0.0.60:554/stream2
    garage_ptz_experimental:
      - ffmpeg:http://127.0.0.1:8090/mosaic.mjpg#video=h264

record:
  enabled: true
  # Keep enough timeline to review prior PTZ angles while one angle stays live.
  retain:
    days: 7
    mode: all

snapshots:
  enabled: true
  retain:
    default: 14

cameras:
  garage:
    enabled: true
    birdseye:
      enabled: true
      mode: continuous
      order: 1
    zones:
      driveway:
        # Placeholder polygon; replace with your garage/driveway area in Frigate UI.
        coordinates: 0.05,0.95,0.95,0.95,0.95,0.05,0.05,0.05
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://127.0.0.1:8554/garage_main
          input_args: preset-rtsp-restream
          roles:
            - record
        - path: rtsp://127.0.0.1:8554/garage_sub
          input_args: preset-rtsp-restream
          roles:
            - detect
    onvif:
      host: 10.0.0.60
      port: 2020
      user: adminadmin
      password: RootPassword1!
      autotracking:
        enabled: true
        required_zones:
          - driveway
        calibrate_on_startup: false
        zooming: disabled
        track:
          - person
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5

  # Experimental pseudo-birdseye for one PTZ camera:
  # live current angle + last unique frame for previously seen angles.
  garage_ptz_experimental:
    enabled: true
    birdseye:
      enabled: false
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/garage_ptz_experimental
          input_args: preset-rtsp-restream
          roles:
            - detect
    detect:
      enabled: true
      width: 2880
      height: 540
      fps: 1
    motion:
      enabled: true
    record:
      enabled: false
    snapshots:
      enabled: false
